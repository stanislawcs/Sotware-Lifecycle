# Технический долг

## Признаки технического долга проекта

- Непонятный / нечитабельный код
- Дублирующийся код
- Отсутствие автоматизации (тестов, сборки, развёртывания)
- Запутанная архитектура и ненужные сложные зависимости
- Медленные / неэффективные средства
- Незакоммиченый код / долгоживущие ветки
- Отсутствие / несоответствие технической документации
- Отсутствие тестовой среды
- Длинные циклы интеграции / отсутствие непрерывной интеграции

Среди данных признаков в проекте 'Waffles Club', разрабатываемым нашей командой встречаются лишь некоторые из них:

- Отсутствие автоматизации.
  Точнее сказать недостаточность автоматизации, а именно тестов.
  В процессе написания проекта тесты пишутся, но покрытие кода тестами остаются небольшим, около 50%, что не всегда
  достаточно.
  Также код покрыт только unit-тестами, т.е. тестами на небольшую функциональность, но практически всегда хочется
  протестировать работоспособность функционала с другими слоями приложения, внешними зависимостями и т.д.
  Для этого пишут интеграционные тесты, которых на проекте 'Waffles Club' нет.
- Незакоммиченный код / долгоживущие ветки.
  Данный признак был заметен в начальном развитии проекта. Часто код делился на большие коммиты с несколькими
  функциональными особенностями, что делает код долгое время незакомиченным.
  Также ветки были долгоживущими и отсутствовал принцип одна ветка - один эпик. Часто задачи реализовывались на одной и
  той же ветке, что не является хорошим решением. В последствии мы отошли от этого, существенно снизив технически долг.
  Также данное решение помогло держать технический долг в допустимом виде.
- Отсутствие технической документации.
  Данный пункт является, скорее всего, наиболее влиятельным показателем технического долга.
  В нашем проекте, на данном этапе отсутствует техническая документация.
  По хорошему, вначале разработки проекта пишется документация, но, даже если в процессе разработки данной документации
  окажется недостаточно, то ее можно будет быстро поправить. А на данном этапе, нам придется писать документацию с нуля,
  которая будет огромная по размерам.
- Отсутствие непрерывной интеграции. CI - данная фича не предусматривалась в проекте, т.к. этим по-большей части
  занимается devOps-eng. Но команде нужно будет изучить этот вопрос, и впоследствии добавить данную вещь к нашему
  проекту, но если из-за недостатка времени этот процесс не будет реализован, то данный пункт можно будет посчитать как
  допустимый технический долг. 
  
Остальные признаки технического долга в проекте не встречаются, поэтому мы считаем, что нецелесообразно про них рассказывать, ведь данные признаки говорят сами за себя.

## Разработка плана мероприятий для устранения технического долга
План мероприятий будет описан в виде задач, с описанием. Оценки будут приведены в слудующем пункте.
1. Устранение незакоммиченного кода и слитие долгоживущих веток в главную и их последующее удаление.
2. Необходимо написать документацию для проекта. Данная документация должна быть как и понятна пользователю, т.е. все описано словами и схемами, так и программисту из другой области, т.е. Swagger-документация. 
3. Написание тестов, как unit, так и интеграционных до уровня покрытия тестами кода в 80%. 
4. Добавление CI/CD. (Опционально).

## Оценка плана мероприятий по устранению технического долга
1. Устранение незакоммиченного кода и слитие долгоживущих веток в главную. Задача несложная, и обычно выполняется в один день, т.е. приблизительно оценивается в 1 story-point.
2. Написание документации для проекта с нуля до текущего уровня разработанных задач занимает довольно большое время. Приблизительно задача такого уровня выполняется за 5 рабочих дней. 2 дня на документацию для программиста и около 3 для пользователя. 
3. Покрытие кода тестами до определенного уровня в 80% будет занимать приблизительно 4 story-point'a. 
4. Добавление CI/CD будет занимать приблизительно 4 story-point'a в виду затраты времени на изучение этого процесса, а далее на написание самого кода.

Таким образом технический долг на данном этапе разработки приложения оцениватеся в 14 story-point'ов, 
что приблизительно равно 14 рабочим дням. Это соответствует вполовину расширенному спринту, 
но если мы уберем опциональные требования и будем считать, что это допустимый технический долг, 
то время, затрачиваемое на исправление долга будет равно одному спринту.

## Сравнение объема долга и недоимплементированных фич
На данном этапе все основные фичи уже реализованы. Но нашей командой осталось невыполнена задача по написанию документации, но т.к. это является признаком технического долга, то можно ее вписать в долг. Таким образом, у нас остается нереализованным спринт по устранению технического долга проекта, длительность которого в наилучших раскладах - 10 дней.

## Выводы
Технический долг необходимо устранять, это важно, ведь если мы захотим дальше развивать приложение и забудем про технический долг, 
он начнет накапливаться и впоследствие усложнит работу. 
Поэтому необходимо планировать спринты по уменьшению долга, ведь если его поддерживать всегда в определенных границах, 
будет очень легко контролировать и прогнозировать его рост. Как было сказано ранее, наш спринт по устранению долга займет до 14 дней. 
Данное время и вносится в качестве коррективы в план разработки проекта.